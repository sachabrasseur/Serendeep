<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; color: #8ce951; -webkit-text-stroke: #8ce951}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; color: #8ce951; -webkit-text-stroke: #8ce951; min-height: 14.0px}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; text-align: center; font: 11.0px 'Helvetica Neue'; color: #000000; color: rgba(0, 0, 0, 0.85); -webkit-text-stroke: rgba(0, 0, 0, 0.85); min-height: 13.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; color: #e5e7ec; -webkit-text-stroke: #e5e7ec; min-height: 14.0px}
    span.s1 {font-kerning: none}
    span.s2 {font-kerning: none; color: #e5e7ec; -webkit-text-stroke: 0px #e5e7ec}
  </style>
</head>
<body>
<p class="p1"><span class="s1">serendeep_v2_standalone.html </span><span class="s2">&lt;&lt;</span><span class="s1"> 'ENDFILE'</span></p>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="fr"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta charset="UTF-8"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;title&gt;Serendeep - Outil de dÃ©veloppement narratif&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1">/* SERENDEEP V2 - Styles */</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">:root {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--primary: #2c3e50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--secondary: #3498db;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--accent: #e74c3c;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--bg: #ecf0f1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--card-bg: #ffffff;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--text: #2c3e50;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>--border: #bdc3c7;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">* {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>box-sizing: border-box;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: var(--text);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>line-height: 1.6;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.welcome-screen {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>min-height: 100vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.welcome-screen h1 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 3rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: var(--primary);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.primary-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>transition: background 0.3s;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.primary-btn:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: #2980b9;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>position: fixed;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>top: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>left: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: rgba(0,0,0,0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>z-index: 1000;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--card-bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>max-width: 500px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 90%;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal-content h2 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1.5rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.form-group {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1.5rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.form-group label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: block;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 0.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.form-group input[type="text"] {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.radio-group {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 0.75rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.radio-group label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 0.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-weight: normal;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal-actions {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>justify-content: flex-end;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-top: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal-actions button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal-actions button:first-child {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--border);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.modal-actions button:last-child {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.workspace {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>min-height: 100vh;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.workspace-header {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--card-bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>box-shadow: 0 2px 4px rgba(0,0,0,0.1);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.project-display {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.project-name {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-weight: 600;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.project-name:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: var(--secondary);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.project-type {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.25rem 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 0.875rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.rename-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.5rem 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 0.875rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>transition: all 0.3s;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.rename-btn:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.phase {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--card-bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 2rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>box-shadow: 0 2px 4px rgba(0,0,0,0.1);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.phase h2 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: var(--primary);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud-input-zone {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud-input-zone textarea {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>min-height: 100px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resize: vertical;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud-actions {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-top: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.upload-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>transition: background 0.3s;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.upload-btn:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: #d5dbdb;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.clouds-container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 2px solid transparent;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>transition: all 0.3s;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-color: var(--secondary);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud.selected {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-color: var(--accent);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: #ffe6e6;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.cloud img {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>height: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 0.5rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.dialogue-zone {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-top: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.mode-selector {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 0.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.mode-btn {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.5rem 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>transition: all 0.3s;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.mode-btn:hover {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: #d5dbdb;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.mode-btn.active {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-color: var(--secondary);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.chat-container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>min-height: 300px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>max-height: 500px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>overflow-y: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.message {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.message.user {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-left: 20%;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.message.assistant {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-right: 20%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.chat-input-zone {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.chat-input-zone textarea {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>flex: 1;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resize: vertical;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>min-height: 60px;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.chat-input-zone button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-panel {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-top: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-grid {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: grid;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-card h4 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: var(--primary);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-card button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.5rem 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-result {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-top: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-result-content {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 0.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.test-result label {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 0.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">#combinationPanel {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--bg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-top: 2rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">#combinationPanel h3 {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">#combinationControls {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">#combinationControls button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-editor {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 8px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-editor textarea {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: 1px solid var(--border);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-family: inherit;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-actions {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>gap: 1rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>flex-wrap: wrap;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>margin-bottom: 1rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-actions button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--secondary);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>padding: 0.75rem 1.5rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>border-radius: 4px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 0.95rem;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-actions button:first-child {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: var(--accent);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-actions button:nth-child(2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: #9b59b6;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.combination-actions button:last-child {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>background: #27ae60;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">.warning {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>color: var(--accent);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-size: 0.875rem;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>font-style: italic;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">@media (max-width: 768px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>.test-grid {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid-template-columns: 1fr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>.clouds-container {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>grid-template-columns: 1fr;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>.combination-actions {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>.combination-actions button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="welcomeScreen" class="welcome-screen"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h1&gt;Serendeep&lt;/h1&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;p&gt;Outil de dÃ©veloppement narratif rhizomatique&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;button id="createProjectBtn" class="primary-btn"&gt;CrÃ©er un nouveau projet&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div id="projectsList"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="workspace" class="workspace" style="display:none;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;header class="workspace-header"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="currentProjectDisplay" class="project-display"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/header&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;section class="phase" id="phase1"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h2&gt;Phase 1 : Nuages d'intuition&lt;/h2&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="cloud-input-zone"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="cloudInput" placeholder="DÃ©posez une intuition, une idÃ©e, un fragment..."&gt;&lt;/textarea&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="cloud-actions"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label for="cloudUpload" class="upload-btn"&gt;ðŸ“Ž Ajouter une image&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="file" id="cloudUpload" accept="image/*" style="display:none;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button id="addCloudBtn" class="primary-btn"&gt;CrÃ©er le nuage&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="cloudsContainer" class="clouds-container"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="dialogue-zone"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;h3&gt;Dialogue focalisÃ©&lt;/h3&gt;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="mode-selector"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="mode-btn active" data-mode="conversational"&gt;ðŸ’¬ Conversationnel&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="mode-btn" data-mode="explorer"&gt;ðŸŒ€ Explorer&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="mode-btn" data-mode="psychoanalytic"&gt;ðŸ§  Psychanalytique&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button class="mode-btn" data-mode="strategic"&gt;ðŸŽ¯ StratÃ©gique&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div id="chatContainer" class="chat-container"&gt;&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="chat-input-zone"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="userInput" placeholder="Votre message..."&gt;&lt;/textarea&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button id="sendMessageBtn"&gt;Envoyer&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/section&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;section class="phase" id="phase2"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h2&gt;Phase 2 : Tests et combinaisons&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="mode-btn" data-mode="tests" onclick="switchMode('tests')"&gt;Activer le mode Tests&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="testPanel" class="test-panel"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/section&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;section class="phase" id="phase3"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h2&gt;Phase 3 : SynthÃ¨se et teaser&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="synthesisPanel" class="synthesis-panel"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button id="generateSynthesisBtn"&gt;GÃ©nÃ©rer une synthÃ¨se du projet&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div id="synthesisResult"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/section&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1">let currentProject = '';</span></p>
<p class="p1"><span class="s1">let projectType = '';</span></p>
<p class="p1"><span class="s1">let clouds = {};</span></p>
<p class="p1"><span class="s1">let clusters = {};</span></p>
<p class="p1"><span class="s1">let conversations = {};</span></p>
<p class="p1"><span class="s1">let testResults = {};</span></p>
<p class="p1"><span class="s1">let testCombination = [];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">document.addEventListener('DOMContentLoaded', () =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>loadProjects();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>setupEventListeners();</span></p>
<p class="p1"><span class="s1">});</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function setupEventListeners() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('createProjectBtn')?.addEventListener('click', showProjectCreationModal);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('addCloudBtn')?.addEventListener('click', () =&gt; addCloud());</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('cloudUpload')?.addEventListener('change', handleImageUpload);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.querySelectorAll('.mode-btn').forEach(btn =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>btn.addEventListener('click', (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if (e.target.dataset.mode === 'tests') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>switchMode('tests');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>switchMode(e.target.dataset.mode);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('sendMessageBtn')?.addEventListener('click', sendMessage);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('userInput')?.addEventListener('keypress', (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (e.key === 'Enter' &amp;&amp; !e.shiftKey) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>e.preventDefault();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>sendMessage();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function showProjectCreationModal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const modal = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>modal.className = 'modal';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>modal.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h2&gt;Nouveau Projet&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;Nom du projet :&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="newProjectName" placeholder="Mon projet"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;Type de projet :&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="radio-group"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="projectType" value="sÃ©rie" checked&gt; SÃ©rie de fiction&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="projectType" value="film"&gt; Long-mÃ©trage&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="projectType" value="podcast"&gt; Podcast narratif&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;&lt;input type="radio" name="projectType" value="documentaire"&gt; Documentaire&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="modal-actions"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="this.closest('.modal').remove()"&gt;Annuler&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="createProject()"&gt;CrÃ©er le projet&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.body.appendChild(modal);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('newProjectName').focus();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function createProject() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const nameInput = document.getElementById('newProjectName');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const name = nameInput.value.trim();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedType = document.querySelector('input[name="projectType"]:checked').value;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!name) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>alert('Veuillez entrer un nom de projet');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>currentProject = name;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>projectType = selectedType;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clouds[currentProject] = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clusters[currentProject] = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>conversations[currentProject] = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>saveProjects();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.querySelector('.modal')?.remove();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>updateProjectDisplay();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>showWorkspace();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function updateProjectDisplay() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const display = document.getElementById('currentProjectDisplay');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (display &amp;&amp; currentProject) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>display.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;span class="project-name" onclick="showRenameModal()"&gt;${currentProject}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;span class="project-type"&gt;${projectType}&lt;/span&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button class="rename-btn" onclick="showRenameModal()"&gt;âœï¸ Renommer&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function showRenameModal() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const modal = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>modal.className = 'modal';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>modal.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="modal-content"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h2&gt;Renommer le projet&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="form-group"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;label&gt;Nouveau nom :&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;input type="text" id="renameProjectInput" value="${currentProject}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="modal-actions"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="this.closest('.modal').remove()"&gt;Annuler&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="renameProject()"&gt;Renommer&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.body.appendChild(modal);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('renameProjectInput').focus();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('renameProjectInput').select();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function renameProject() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const newName = document.getElementById('renameProjectInput').value.trim();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!newName || newName === currentProject) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.querySelector('.modal')?.remove();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clouds[newName] = clouds[currentProject];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clusters[newName] = clusters[currentProject];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>conversations[newName] = conversations[currentProject];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>delete clouds[currentProject];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>delete clusters[currentProject];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>delete conversations[currentProject];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>currentProject = newName;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>saveProjects();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>updateProjectDisplay();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.querySelector('.modal')?.remove();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function handleExplorerMode(userMessage) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const cloudsContext = selectedClouds.map(c =&gt; c.content).join('\\n\\n');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Tu es en mode EXPLORATION RHIZOMATIQUE.</span></p>
<p class="p1"><span class="s1">Contexte du projet (${projectType}) : ${currentProject}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Nuages d'intuition :</span></p>
<p class="p1"><span class="s1">${cloudsContext}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Message utilisateur : ${userMessage}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">CONSIGNE : Ne cherche pas Ã  analyser le "pourquoi". Ouvre le champ des possibles :</span></p>
<p class="p1"><span class="s1">- Propose des tangentes inattendues</span></p>
<p class="p1"><span class="s1">- Fais des connections surprenantes entre les Ã©lÃ©ments</span></p>
<p class="p1"><span class="s1">- SuggÃ¨re des ramifications narratives</span></p>
<p class="p1"><span class="s1">- Imagine des angles non Ã©vidents</span></p>
<p class="p1"><span class="s1">- CrÃ©e des ponts avec d'autres univers/rÃ©fÃ©rences</span></p>
<p class="p1"><span class="s1">- LibÃ¨re les associations d'idÃ©es</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">RÃ©ponds de maniÃ¨re ouverte et gÃ©nÃ©rative, pas analytique.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>return await callClaude(prompt);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function initTestMode() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const testPanel = document.getElementById('testPanel');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (selectedClouds.length === 0) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>testPanel.innerHTML = '&lt;p&gt;SÃ©lectionnez des nuages pour les tester&lt;/p&gt;';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>testResults = {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>testCombination = [];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>testPanel.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;h3&gt;Tests individuels&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="test-grid"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>${selectedClouds.map((cloud, i) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="test-card" data-index="${i}"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;h4&gt;Nuage ${i + 1}: ${cloud.content.substring(0, 30)}...&lt;/h4&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="testIndividualCloud(${i})"&gt;Tester&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;div class="test-result" id="result-${i}"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>`).join('')}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div id="combinationPanel" style="display:none;"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;h3&gt;Combinaison&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="combinationControls"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div id="combinationResult"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>`;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function testIndividualCloud(index) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const cloud = selectedClouds[index];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const resultDiv = document.getElementById(`result-${index}`);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resultDiv.innerHTML = '&lt;p&gt;Test en cours...&lt;/p&gt;';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>let formatContext = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (projectType === 'sÃ©rie') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Structure sÃ©rielle, arcs narratifs multiples, personnages rÃ©currents.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'film') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Structure trois actes, condensation dramatique, film de 90-120 minutes.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'podcast') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Format audio narratif, importance du son, rythme et narration orale.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'documentaire') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Ancrage dans le rÃ©el, enquÃªte, point de vue documentaire.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Projet : ${currentProject} (${projectType})</span></p>
<p class="p1"><span class="s1">Format : ${formatContext}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Teste ce nuage d'intuition isolÃ©ment :</span></p>
<p class="p1"><span class="s1">"${cloud.content}"</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Propose UNE piste de dÃ©veloppement pour ce nuage en tenant compte du format ${projectType}.</span></p>
<p class="p1"><span class="s1">Sois concis et concret (max 150 mots).`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const result = await callClaude(prompt);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>testResults[index] = result;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resultDiv.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="test-result-content"&gt;${result}&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;input type="checkbox" onchange="toggleCombination(${index}, event)"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>Combiner</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/label&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>`;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>updateCombinationPanel();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function toggleCombination(index, event) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const checkbox = event.target;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (checkbox.checked) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>testCombination.push(index);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>testCombination = testCombination.filter(i =&gt; i !== index);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>updateCombinationPanel();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function updateCombinationPanel() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const panel = document.getElementById('combinationPanel');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const controls = document.getElementById('combinationControls');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (testCombination.length &gt;= 2) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>panel.style.display = 'block';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>controls.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p&gt;Ã‰lÃ©ments sÃ©lectionnÃ©s : ${testCombination.map(i =&gt; `Nuage ${i+1}`).join(' + ')}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="generateCombination()"&gt;GÃ©nÃ©rer la combinaison&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>panel.style.display = 'none';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function generateCombination() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const resultDiv = document.getElementById('combinationResult');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resultDiv.innerHTML = '&lt;p&gt;GÃ©nÃ©ration en cours...&lt;/p&gt;';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const combinedResults = testCombination.map(i =&gt; testResults[i]).join('\\n\\n---\\n\\n');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>let formatContext = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (projectType === 'sÃ©rie') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'sÃ©rie de fiction avec structure sÃ©rielle';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'film') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'long-mÃ©trage avec structure trois actes';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'podcast') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'podcast narratif avec attention au son';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'documentaire') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'documentaire ancrÃ© dans le rÃ©el';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Projet : ${currentProject} (${projectType})</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Voici plusieurs pistes dÃ©veloppÃ©es sÃ©parÃ©ment :</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">${combinedResults}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">CONSIGNE : SynthÃ©tise ces pistes en UNE proposition cohÃ©rente pour un projet de ${formatContext}.</span></p>
<p class="p1"><span class="s1">CrÃ©e une synergie entre les Ã©lÃ©ments. Max 250 mots.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const combination = await callClaude(prompt);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>resultDiv.innerHTML = `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="combination-editor"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;textarea id="combinationText" rows="10"&gt;${combination}&lt;/textarea&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div class="combination-actions"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="regenerateCombination()"&gt;RÃ©gÃ©nÃ©rer la combinaison&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="improveCombination()"&gt;AmÃ©liorer ma version&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>&lt;button onclick="validateCombination()"&gt;Valider et sauvegarder comme grappe&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p class="warning"&gt;âš ï¸ Ajouter/retirer des Ã©lÃ©ments Ã©crasera cette version (sauf si validÃ©e)&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>`;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function regenerateCombination() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>await generateCombination();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function improveCombination() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const textarea = document.getElementById('combinationText');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const userVersion = textarea.value;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>textarea.value = 'AmÃ©lioration en cours...';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Voici une combinaison narrative que l'utilisateur a modifiÃ©e :</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">"${userVersion}"</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">CONSIGNE : AmÃ©liore cette version en :</span></p>
<p class="p1"><span class="s1">- RenforÃ§ant la cohÃ©rence</span></p>
<p class="p1"><span class="s1">- Affinant la langue</span></p>
<p class="p1"><span class="s1">- PrÃ©cisant les Ã©lÃ©ments flous</span></p>
<p class="p1"><span class="s1">- Gardant l'intention et le sens de l'utilisateur</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Max 250 mots.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const improved = await callClaude(prompt);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>textarea.value = improved;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function validateCombination() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const textarea = document.getElementById('combinationText');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const content = textarea.value;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!clusters[currentProject]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>clusters[currentProject] = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clusters[currentProject].push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>date: new Date().toISOString(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>clouds: testCombination.map(i =&gt; getSelectedClouds()[i]),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>content: content</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>saveProjects();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>alert('Grappe sauvegardÃ©e !');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>testCombination = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>initTestMode();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function handleStrategicMode(userMessage) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const cloudsContext = selectedClouds.map(c =&gt; c.content).join('\\n\\n');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>let formatContext = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (projectType === 'sÃ©rie') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Pense structure sÃ©rielle, arcs de saison, bible de personnages, potentiel de dÃ©veloppement multi-saisons.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'film') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Pense structure trois actes, condensation narrative, arc unique et complet.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'podcast') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Pense format audio, Ã©pisodes, narration sonore, identitÃ© vocale.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} else if (projectType === 'documentaire') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>formatContext = 'Pense enquÃªte, angle Ã©ditorial, accÃ¨s au rÃ©el, dispositif filmique.';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Tu es en mode STRATÃ‰GIQUE pour un projet de ${projectType}.</span></p>
<p class="p1"><span class="s1">${formatContext}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Projet : ${currentProject}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Nuages d'intuition :</span></p>
<p class="p1"><span class="s1">${cloudsContext}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Message utilisateur : ${userMessage}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">CONSIGNE : RÃ©ponds de maniÃ¨re stratÃ©gique et professionnelle en tenant compte des contraintes et opportunitÃ©s du format ${projectType}.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>return await callClaude(prompt);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function handleImageUpload(event) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const file = event.target.files[0];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!file) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const reader = new FileReader();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>reader.onload = async (e) =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const base64 = e.target.result.split(',')[1];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const cloudContent = document.getElementById('cloudInput').value;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>addCloud({ content: cloudContent, image: base64 });</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById('cloudInput').value = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>event.target.value = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>reader.readAsDataURL(file);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function sendMessage() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const input = document.getElementById('userInput');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const message = input.value.trim();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!message) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>input.value = '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>addMessageToChat('user', message);</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const currentMode = document.querySelector('.mode-btn.active')?.dataset.mode || 'conversational';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>let response;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>switch(currentMode) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>case 'explorer':</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>response = await handleExplorerMode(message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>case 'strategic':</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>response = await handleStrategicMode(message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>case 'psychoanalytic':</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>response = await handlePsychoanalyticMode(message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>break;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>default:</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>response = await handleConversationalMode(message);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>addMessageToChat('assistant', response);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>saveConversation(currentMode, message, response);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function callClaude(prompt) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const images = selectedClouds</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.filter(c =&gt; c.image)</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>.map(c =&gt; ({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>type: "image",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>source: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>type: "base64",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>media_type: "image/jpeg",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>data: c.image</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}));</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const messages = [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>role: "user",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>content: [</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>...images,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>{ type: "text", text: prompt }</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>]</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>];</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const response = await fetch("https://api.anthropic.com/v1/messages", {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>method: "POST",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>headers: {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>"Content-Type": "application/json",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>},</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>body: JSON.stringify({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>model: "claude-sonnet-4-20250514",</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>max_tokens: 1000,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>messages: messages</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>})</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â  Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const data = await response.json();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return data.content.find(c =&gt; c.type === "text")?.text || "Erreur de rÃ©ponse";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>} catch (error) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>console.error("Erreur API:", error);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return "Erreur de connexion Ã  l'API";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function getSelectedClouds() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!clouds[currentProject]) return [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>return clouds[currentProject].filter(c =&gt; c.selected);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function addCloud(cloudData) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!clouds[currentProject]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>clouds[currentProject] = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const content = cloudData.content || cloudData;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!content || content.trim() === '') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>alert('Le nuage doit contenir du texte');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>return;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clouds[currentProject].push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>id: Date.now(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>date: new Date().toISOString(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>content: content,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>image: cloudData.image || null,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>selected: false</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>saveProjects();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>renderClouds();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function renderClouds() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const container = document.getElementById('cloudsContainer');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!container || !clouds[currentProject]) return;</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>container.innerHTML = clouds[currentProject].map((cloud, i) =&gt; `</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;div class="cloud ${cloud.selected ? 'selected' : ''}" onclick="toggleCloudSelection(${i})"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>${cloud.image ? '&lt;img src="data:image/jpeg;base64,' + cloud.image + '" alt="Image nuage"&gt;' : ''}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;p&gt;${cloud.content}&lt;/p&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>`).join('');</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function toggleCloudSelection(index) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clouds[currentProject][index].selected = !clouds[currentProject][index].selected;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>renderClouds();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function saveProjects() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem('serendeep_clouds', JSON.stringify(clouds));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem('serendeep_clusters', JSON.stringify(clusters));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem('serendeep_conversations', JSON.stringify(conversations));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem('serendeep_currentProject', currentProject);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>localStorage.setItem('serendeep_projectType', projectType);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function loadProjects() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clouds = JSON.parse(localStorage.getItem('serendeep_clouds')) || {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>clusters = JSON.parse(localStorage.getItem('serendeep_clusters')) || {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>conversations = JSON.parse(localStorage.getItem('serendeep_conversations')) || {};</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>currentProject = localStorage.getItem('serendeep_currentProject') || '';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>projectType = localStorage.getItem('serendeep_projectType') || '';</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (currentProject) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>updateProjectDisplay();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>showWorkspace();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function addMessageToChat(role, content) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const chatContainer = document.getElementById('chatContainer');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const messageDiv = document.createElement('div');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>messageDiv.className = `message ${role}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>messageDiv.textContent = content;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>chatContainer.appendChild(messageDiv);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>chatContainer.scrollTop = chatContainer.scrollHeight;</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function saveConversation(mode, userMessage, assistantResponse) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (!conversations[currentProject]) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>conversations[currentProject] = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>conversations[currentProject].push({</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>mode,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>date: new Date().toISOString(),</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>user: userMessage,</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>assistant: assistantResponse</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>});</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>saveProjects();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function showWorkspace() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('welcomeScreen').style.display = 'none';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('workspace').style.display = 'block';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>renderClouds();</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">function switchMode(mode) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>document.querySelectorAll('.mode-btn').forEach(btn =&gt; btn.classList.remove('active'));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>event.target.classList.add('active');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>if (mode === 'tests') {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>initTestMode();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function handleConversationalMode(userMessage) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const cloudsContext = selectedClouds.map(c =&gt; c.content).join('\\n\\n');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Projet : ${currentProject}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Nuages d'intuition :</span></p>
<p class="p1"><span class="s1">${cloudsContext}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Message utilisateur : ${userMessage}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">RÃ©ponds de maniÃ¨re conversationnelle et naturelle.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>return await callClaude(prompt);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">async function handlePsychoanalyticMode(userMessage) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const selectedClouds = getSelectedClouds();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const cloudsContext = selectedClouds.map(c =&gt; c.content).join('\\n\\n');</span></p>
<p class="p2"><span class="s1"><span class="Apple-converted-space">Â Â  Â </span></span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>const prompt = `Tu es en mode PSYCHANALYTIQUE.</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Projet : ${currentProject}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Nuages d'intuition :</span></p>
<p class="p1"><span class="s1">${cloudsContext}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">Message utilisateur : ${userMessage}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1">CONSIGNE : Interroge les dÃ©sirs latents, les contradictions, les non-dits. Creuse les tensions sous-jacentes.`;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>return await callClaude(prompt);</span></p>
<p class="p1"><span class="s1">}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">Â  Â  </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
<p class="p3"><span class="s1"></span><br></p>
<p class="p4"><span class="s1"></span><br></p>
</body>
</html>
